(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cbedd"],{"4c80":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a._self._c;return t("div",{staticClass:"container mt-4"},[t("h2",[a._v("Edit Transaksi")]),t("form",{on:{submit:function(t){return t.preventDefault(),a.updateTransaksi.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",[a._v("Jenis Transaksi")]),t("br"),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.jenis_transaksi,expression:"form.jenis_transaksi"}],attrs:{type:"radio",value:"Pemasukan",required:""},domProps:{checked:a._q(a.form.jenis_transaksi,"Pemasukan")},on:{change:function(t){return a.$set(a.form,"jenis_transaksi","Pemasukan")}}}),a._v(" Pemasukan")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.jenis_transaksi,expression:"form.jenis_transaksi"}],attrs:{type:"radio",value:"Pengeluaran",required:""},domProps:{checked:a._q(a.form.jenis_transaksi,"Pengeluaran")},on:{change:function(t){return a.$set(a.form,"jenis_transaksi","Pengeluaran")}}}),a._v(" Pengeluaran")])]),t("div",{staticClass:"form-group"},[t("label",[a._v("Tanggal")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.tanggal_transaksi,expression:"form.tanggal_transaksi"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:a.form.tanggal_transaksi},on:{input:function(t){t.target.composing||a.$set(a.form,"tanggal_transaksi",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[a._v("Nominal (Rp)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.form.nominal,expression:"form.nominal",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",required:""},domProps:{value:a.form.nominal},on:{input:function(t){t.target.composing||a.$set(a.form,"nominal",a._n(t.target.value))},blur:function(t){return a.$forceUpdate()}}})]),t("div",{staticClass:"form-group"},[t("label",[a._v("Keterangan")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:a.form.keterangan},on:{input:function(t){t.target.composing||a.$set(a.form,"keterangan",t.target.value)}}})]),a.buktiPreview?t("div",{staticClass:"form-group"},[t("label",[a._v("Preview Bukti:")]),t("br"),t("img",{staticStyle:{"max-width":"200px",border:"1px solid #ccc"},attrs:{src:a.buktiPreview,alt:"Bukti"}})]):a._e(),t("div",{staticClass:"form-group"},[t("label",[a._v("Ganti Bukti (opsional)")]),t("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*"},on:{change:a.handleFileUpload}})]),t("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[a._v("Update Transaksi")])])])},r=[],i=(e("96cf"),e("1da1")),s=e("cee4"),o={data:function(){return{form:{jenis_transaksi:"",tanggal_transaksi:"",nominal:null,keterangan:""},bukti:null,buktiPreview:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t,e,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=this.$route.params.id_transaksi,a.prev=1,a.next=2,s["a"].get("https://apikeuanganmasjid-production.up.railway.app/get-data/".concat(t));case 2:e=a.sent,e.data.status?(n=e.data.data,this.form={jenis_transaksi:n.jenis_transaksi,tanggal_transaksi:n.tanggal_transaksi.slice(0,10),nominal:n.nominal,keterangan:n.keterangan},n.bukti&&(this.buktiPreview="https://apikeuanganmasjid-production.up.railway.app/img/".concat(n.bukti))):alert("Data tidak ditemukan"),a.next=4;break;case 3:a.prev=3,r=a["catch"](1),console.error(r),alert("Gagal mengambil data transaksi");case 4:case"end":return a.stop()}}),a,this,[[1,3]])})));function t(){return a.apply(this,arguments)}return t}(),handleFileUpload:function(a){this.bukti=a.target.files[0],this.bukti&&(this.buktiPreview=URL.createObjectURL(this.bukti))},updateTransaksi:function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(){var t,e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=this.$route.params.id_transaksi,e=new FormData,e.append("jenis_transaksi",this.form.jenis_transaksi),e.append("tanggal_transaksi",this.form.tanggal_transaksi),e.append("nominal",this.form.nominal),e.append("keterangan",this.form.keterangan),this.bukti&&e.append("bukti",this.bukti),a.prev=1,a.next=2,s["a"].put("https://apikeuanganmasjid-production.up.railway.app/data_keuangan/update-transaksi/".concat(t),e,{headers:{"Content-Type":"multipart/form-data"}});case 2:alert("Data berhasil diupdate!"),this.$router.push("/datatransaksi"),a.next=4;break;case 3:a.prev=3,n=a["catch"](1),console.error("Gagal update:",n),alert("Gagal mengupdate data");case 4:case"end":return a.stop()}}),a,this,[[1,3]])})));function t(){return a.apply(this,arguments)}return t}()}},u=o,l=e("2877"),m=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0cbedd.2e4aa810.js.map