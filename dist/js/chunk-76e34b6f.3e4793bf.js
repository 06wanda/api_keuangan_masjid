(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76e34b6f"],{"1ff9":function(a,t,n){},"281c":function(a,t,n){"use strict";n("1ff9")},"4afc":function(a,t,n){"use strict";n.r(t);var e=function(){var a=this,t=a._self._c;return t("div",{staticClass:"container mt-4"},[t("h2",{staticClass:"mb-4"},[a._v("Daftar Transaksi Keuangan Masjid")]),a.loading?t("div",{staticClass:"alert alert-info"},[a._v("Memuat data transaksi...")]):a._e(),a.error?t("div",{staticClass:"alert alert-danger"},[a._v(a._s(a.error))]):a._e(),!a.loading&&a.dataTransaksi.length>0?t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered table-hover table-sm"},[a._m(0),t("tbody",a._l(a.dataTransaksi,(function(n,e){return t("tr",{key:e},[t("td",[a._v(a._s(n.jenis_transaksi))]),t("td",[a._v(a._s(a.formatTanggal(n.tanggal_transaksi)))]),t("td",[a._v("Rp "+a._s(a.formatNominal(n.nominal)))]),t("td",[a._v(a._s(n.keterangan))]),t("td",[n.bukti?t("img",{staticStyle:{"max-width":"100px","max-height":"70px","object-fit":"cover"},attrs:{src:a.getImageUrl(n.bukti),alt:"Bukti Transaksi"}}):t("span",{staticClass:"text-muted"},[a._v("Tidak ada")])]),t("td",[t("button",{staticClass:"btn btn-sm btn-warning me-2",on:{click:function(t){return a.editData(n)}}},[a._v("\n              Edit\n            ")]),t("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(t){return a.hapusData(n)}}},[a._v("\n              Hapus\n            ")])])])})),0)])]):a.loading||0!==a.dataTransaksi.length?a._e():t("div",[t("p",{staticClass:"text-muted"},[a._v("Tidak ada data transaksi.")])])])},r=[function(){var a=this,t=a._self._c;return t("thead",{staticClass:"thead-light"},[t("tr",[t("th",[a._v("Jenis Transaksi")]),t("th",[a._v("Tanggal")]),t("th",[a._v("Nominal")]),t("th",[a._v("Keterangan")]),t("th",[a._v("Bukti")]),t("th",[a._v("Aksi")])])])}],s=(n("c5f6"),n("96cf"),n("1da1")),i=n("cee4"),c={data:function(){return{dataTransaksi:[],loading:!1,error:""}},methods:{fetchData:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(){var t,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return this.loading=!0,this.error="",a.prev=1,a.next=2,i["a"].get("http://localhost:3000/data_keuangan/get-data");case 2:t=a.sent,t.data.status?this.dataTransaksi=t.data.data:this.error="Gagal mengambil data transaksi dari server.",a.next=4;break;case 3:a.prev=3,n=a["catch"](1),this.error="Terjadi kesalahan saat mengambil data.",console.error(n);case 4:return a.prev=4,this.loading=!1,a.finish(4);case 5:case"end":return a.stop()}}),a,this,[[1,3,4,5]])})));function t(){return a.apply(this,arguments)}return t}(),formatTanggal:function(a){var t=new Date(a);return t.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},formatNominal:function(a){var t=Number(a);return t.toLocaleString("id-ID")},getImageUrl:function(a){return"http://localhost:3000/img/".concat(a)},editData:function(a){this.$router.push({name:"edittransaksi",params:{id_transaksi:a.id_transaksi}})},hapusData:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(t){var n,e,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=confirm("Yakin ingin menghapus transaksi: ".concat(t.keterangan,"?")),!n){a.next=4;break}return a.prev=1,a.next=2,i["a"].delete("https://apikeuanganmasjid-production.up.railway.app/data_keuangan/delete-transaksi/".concat(t.id_transaksi));case 2:e=a.sent,e.data.status?(alert("Data berhasil dihapus"),this.fetchData()):(console.log(t),alert("Gagal menghapus data")),a.next=4;break;case 3:a.prev=3,r=a["catch"](1),console.error(r),alert("Terjadi kesalahan saat menghapus data");case 4:case"end":return a.stop()}}),a,this,[[1,3]])})));function t(t){return a.apply(this,arguments)}return t}()},mounted:function(){this.fetchData()}},o=c,u=(n("281c"),n("2877")),l=Object(u["a"])(o,e,r,!1,null,"7d1fbb66",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-76e34b6f.3e4793bf.js.map