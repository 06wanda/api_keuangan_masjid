(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b2634ef"],{2586:function(a,t,e){},cfa5:function(a,t,e){"use strict";e("2586")},e80a:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a._self._c;return t("div",{staticClass:"container mt-4"},[t("h2",{staticClass:"mb-2"},[a._v("Manajemen Pengurus Masjid")]),t("div",{staticClass:"mb-3"},[t("button",{staticClass:"btn btn-primary",on:{click:a.tambahDataPengurus}},[a._v("\n      + Input Data Pengurus Masjid\n    ")])]),a.loading?t("div",{staticClass:"alert alert-info"},[a._v("Memuat data Pengurus...")]):a._e(),a.error?t("div",{staticClass:"alert alert-danger"},[a._v(a._s(a.error))]):a._e(),!a.loading&&a.dataPengurus.length>0?t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered table-hover table-sm"},[a._m(0),t("tbody",a._l(a.dataPengurus,(function(e,n){return t("tr",{key:n},[t("td",[a._v(a._s(e.username))]),t("td",[a._v(a._s(e.no_hp))]),t("td",[a._v(a._s(e.masjid?e.masjid.nama_masjid:"-"))]),t("td",[t("button",{staticClass:"btn btn-sm btn-warning me-2",on:{click:function(t){return a.editData(e)}}},[a._v("\n              Edit\n            ")]),t("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(t){return a.hapusData(e)}}},[a._v("\n              Hapus\n            ")])])])})),0)])]):a.loading||0!==a.dataPengurus.length?a._e():t("div",[t("p",{staticClass:"text-muted"},[a._v("Tidak ada data Pengurus.")])])])},r=[function(){var a=this,t=a._self._c;return t("thead",{staticClass:"thead-light"},[t("tr",[t("th",[a._v("Username")]),t("th",[a._v("No Handphone")]),t("th",[a._v("Nama Masjid")]),t("th",[a._v("Aksi")])])])}],s=(e("96cf"),e("1da1")),i=e("cee4"),u={data:function(){return{dataPengurus:[],loading:!1,error:""}},methods:{fetchData:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(){var t,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return this.loading=!0,this.error="",a.prev=1,a.next=2,i["a"].get("https://apikeuanganmasjid-production.up.railway.app/admin/pengurus",{withCredentials:!0});case 2:t=a.sent,console.log(t.data),t.data.status?this.dataPengurus=t.data.data:this.error="Gagal mengambil data pengurus dari server.",a.next=4;break;case 3:a.prev=3,e=a["catch"](1),this.error="Terjadi kesalahan saat mengambil data.",console.error(e);case 4:return a.prev=4,this.loading=!1,a.finish(4);case 5:case"end":return a.stop()}}),a,this,[[1,3,4,5]])})));function t(){return a.apply(this,arguments)}return t}(),tambahDataPengurus:function(){this.$router.push({name:"addpengurus"})},editData:function(a){this.$router.push({name:"editpengurus",params:{id_transaksi:a.id_user}})},hapusData:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(t){var e,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=confirm("Yakin ingin menghapus Pengurus: ".concat(t.username,"?")),!e){a.next=4;break}return a.prev=1,a.next=2,i["a"].delete("https://apikeuanganmasjid-production.up.railway.app/admin/delete-pengurus/".concat(t.id_user),{withCredentials:!0});case 2:n=a.sent,n.data.status?(alert("Data berhasil dihapus"),this.fetchData()):alert("Gagal menghapus data"),a.next=4;break;case 3:a.prev=3,r=a["catch"](1),console.error(r),alert("Terjadi kesalahan saat menghapus data");case 4:case"end":return a.stop()}}),a,this,[[1,3]])})));function t(t){return a.apply(this,arguments)}return t}()},mounted:function(){this.fetchData()}},c=u,d=(e("cfa5"),e("2877")),o=Object(d["a"])(c,n,r,!1,null,"39aac3da",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-6b2634ef.bfc5d9a3.js.map