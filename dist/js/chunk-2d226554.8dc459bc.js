(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d226554"],{e7e1:function(a,e,s){"use strict";s.r(e);var i=function(){var a=this,e=a._self._c;return e("div",{staticClass:"container mt-4"},[e("div",{staticClass:"card shadow-sm"},[a._m(0),e("div",{staticClass:"card-body"},[a.message?e("div",{class:["alert",a.alertTypeClass],attrs:{role:"alert"}},[a._v("\n        "+a._s(a.message)+"\n        "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){a.message=""}}},[a._v("Ã—")])]):a._e(),e("form",{on:{submit:function(e){return e.preventDefault(),a.simpanTransaksi.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"font-weight-bold d-block mb-2"},[a._v("Jenis Transaksi")]),e("div",{staticClass:"d-flex flex-wrap gap-2"},[e("span",{staticClass:"badge rounded-pill",class:"Pemasukan"===a.form.jenis_transaksi?"badge-success px-3 py-2":"badge-light text-dark border px-3 py-2",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(e){a.form.jenis_transaksi="Pemasukan"}}},[e("i",{staticClass:"fas fa-arrow-down mr-1"}),a._v(" Pemasukan\n            ")]),e("span",{staticClass:"badge rounded-pill",class:"Pengeluaran"===a.form.jenis_transaksi?"badge-danger px-3 py-2":"badge-light text-dark border px-3 py-2",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(e){a.form.jenis_transaksi="Pengeluaran"}}},[e("i",{staticClass:"fas fa-arrow-up mr-1"}),a._v(" Pengeluaran\n            ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.jenis_transaksi,expression:"form.jenis_transaksi"}],staticClass:"d-none",attrs:{type:"text",required:""},domProps:{value:a.form.jenis_transaksi},on:{input:function(e){e.target.composing||a.$set(a.form,"jenis_transaksi",e.target.value)}}})]),a.form.jenis_transaksi?e("div",{staticClass:"form-group"},[a._m(1),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.kategori,expression:"form.kategori"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.form,"kategori",e.target.multiple?s:s[0])}}},[e("option",{attrs:{disabled:"",value:""}},[a._v("-- Pilih Kategori --")]),a._l(a.filteredKategori,(function(s){return e("option",{key:s.nama,domProps:{value:s.nama}},[a._v("\n              "+a._s(s.nama)+"\n            ")])}))],2)]):a._e(),e("div",{staticClass:"form-group"},[a._m(2),e("br"),e("div",{staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.sumber_dana,expression:"form.sumber_dana"}],staticClass:"form-check-input",attrs:{type:"radio",id:"terikat",value:"terikat",required:""},domProps:{checked:a._q(a.form.sumber_dana,"terikat")},on:{change:function(e){return a.$set(a.form,"sumber_dana","terikat")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"terikat"}},[a._v("Ya (Terikat)")])]),e("div",{staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.sumber_dana,expression:"form.sumber_dana"}],staticClass:"form-check-input",attrs:{type:"radio",id:"bebas",value:"tidak_terikat",required:""},domProps:{checked:a._q(a.form.sumber_dana,"tidak_terikat")},on:{change:function(e){return a.$set(a.form,"sumber_dana","tidak_terikat")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"bebas"}},[a._v("Tidak (Bebas Digunakan)")])])]),e("div",{staticClass:"form-group"},[a._m(3),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.form.nominal,expression:"form.nominal",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",required:""},domProps:{value:a.form.nominal},on:{input:function(e){e.target.composing||a.$set(a.form,"nominal",a._n(e.target.value))},blur:function(e){return a.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[a._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.tanggal_transaksi,expression:"form.tanggal_transaksi"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:a.form.tanggal_transaksi},on:{input:function(e){e.target.composing||a.$set(a.form,"tanggal_transaksi",e.target.value)}}})]),e("div",{staticClass:"form-group"},[a._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Contoh: Donasi dari Bpk. Ahmad RT 02"},domProps:{value:a.form.keterangan},on:{input:function(e){e.target.composing||a.$set(a.form,"keterangan",e.target.value)}}})]),e("div",{staticClass:"form-group"},[a._m(6),e("input",{ref:"fileInput",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*",required:""},on:{change:a.handleFileUpload}})]),a._m(7)])])])])},t=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"card-header bg-success text-white"},[e("h5",{staticClass:"mb-0"},[e("i",{staticClass:"fas fa-edit"}),a._v(" Input Transaksi Keuangan Masjid\n      ")])])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-list-ul"}),a._v(" Kategori")])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-link"}),a._v(" Apakah dana ini terikat?")])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-money-bill-wave"}),a._v(" Nominal (Rp)")])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-calendar-alt"}),a._v(" Tanggal")])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-info-circle"}),a._v(" Keterangan (opsional)")])},function(){var a=this,e=a._self._c;return e("label",[e("i",{staticClass:"fas fa-paperclip"}),a._v(" Upload Bukti (gambar)")])},function(){var a=this,e=a._self._c;return e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save"}),a._v(" Simpan Transaksi\n        ")])}],n=(s("96cf"),s("1da1")),r=(s("7514"),s("cee4")),l={data:function(){return{form:{jenis_transaksi:"",tanggal_transaksi:"",nominal:null,sumber_dana:"",kategori:"",keterangan:"",klasifikasi_kas:""},bukti:null,message:"",alertType:"success",semuaKategori:[{nama:"Infaq Harian",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Infaq Kotak Jumat",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Infaq Hamba Allah",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Infaq Biaya Listrik",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Infaq Biaya Air",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Donasi Tetap",jenis:"Pemasukan",klasifikasi:"Operasi"},{nama:"Donasi Pembangunan",jenis:"Pemasukan",klasifikasi:"Inventaris"},{nama:"Gaji Marbot",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Listrik & Air",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Perlengkapan Ibadah",jenis:"Pengeluaran",klasifikasi:"Inventaris"},{nama:"Kegiatan Sosial",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Konsumsi Jamaah",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Pembangunan / Renovasi",jenis:"Pengeluaran",klasifikasi:"Inventaris"},{nama:"Kebersihan Masjid",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Santunan Sosial",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Honor Kegiatan",jenis:"Pengeluaran",klasifikasi:"Operasi"},{nama:"Lainnyaa",jenis:"Pemasukan",klasifikasi:"Operasi"}]}},computed:{alertTypeClass:function(){return"success"===this.alertType?"alert-success":"alert-danger"},filteredKategori:function(){var a=this;return this.semuaKategori.filter((function(e){return e.jenis===a.form.jenis_transaksi}))}},watch:{"form.kategori":function(a){var e=this.semuaKategori.find((function(e){return e.nama===a}));this.form.klasifikasi_kas=e?e.klasifikasi:""}},methods:{handleFileUpload:function(a){this.bukti=a.target.files[0]},simpanTransaksi:function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(){var e,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.bukti){a.next=1;break}return this.message="Silakan pilih file gambar bukti transaksi!",this.alertType="danger",a.abrupt("return");case 1:if(e=localStorage.getItem("id_masjid"),e){a.next=2;break}return this.message="ID Masjid tidak ditemukan. Silakan login ulang.",this.alertType="danger",a.abrupt("return");case 2:return a.prev=2,s=new FormData,s.append("id_masjid",e),s.append("jenis_transaksi",this.form.jenis_transaksi),s.append("tanggal_transaksi",this.form.tanggal_transaksi),s.append("nominal",this.form.nominal),s.append("sumber_dana",this.form.sumber_dana),s.append("kategori",this.form.kategori),s.append("keterangan",this.form.keterangan),s.append("klasifikasi_kas",this.form.klasifikasi_kas),s.append("bukti",this.bukti),a.next=3,r["a"].post("https://apikeuanganmasjid-production.up.railway.app/data_keuangan/input",s,{headers:{"Content-Type":"multipart/form-data"}});case 3:i=a.sent,this.message=i.data.msg||"Data berhasil disimpan!",this.alertType="success",this.resetForm(),a.next=5;break;case 4:a.prev=4,a["catch"](2),this.message="Gagal menyimpan data. Silakan coba lagi.",this.alertType="danger";case 5:case"end":return a.stop()}}),a,this,[[2,4]])})));function e(){return a.apply(this,arguments)}return e}(),resetForm:function(){this.form={jenis_transaksi:"",tanggal_transaksi:"",nominal:null,sumber_dana:"",kategori:"",keterangan:"",klasifikasi_kas:""},this.bukti=null,this.$refs.fileInput&&(this.$refs.fileInput.value="")}}},o=l,m=s("2877"),u=Object(m["a"])(o,i,t,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d226554.8dc459bc.js.map