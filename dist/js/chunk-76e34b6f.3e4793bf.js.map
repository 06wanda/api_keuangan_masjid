{"version":3,"sources":["webpack:///./src/views/Pengurus/DataTransaksi.vue?9234","webpack:///./src/views/Pengurus/DataTransaksi.vue","webpack:///src/views/Pengurus/DataTransaksi.vue","webpack:///./src/views/Pengurus/DataTransaksi.vue?5906","webpack:///./src/views/Pengurus/DataTransaksi.vue?0467"],"names":["render","_vm","this","_c","_self","staticClass","_v","loading","_e","error","_s","dataTransaksi","length","_m","_l","item","index","key","jenis_transaksi","formatTanggal","tanggal_transaksi","formatNominal","nominal","keterangan","bukti","staticStyle","attrs","getImageUrl","on","$event","editData","hapusData","staticRenderFns","data","methods","fetchData","_fetchData","_asyncToGenerator","regeneratorRuntime","mark","_callee","res","_t","wrap","_context","prev","next","axios","get","sent","status","console","finish","stop","apply","arguments","tgl","date","Date","toLocaleDateString","day","month","year","value","Number","toLocaleString","filename","concat","$router","push","name","params","id_transaksi","_hapusData","_callee2","konfirmasi","_t2","_context2","confirm","delete","alert","log","_x","mounted","component"],"mappings":"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","file":"js/chunk-76e34b6f.3e4793bf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTransaksi.vue?vue&type=style&index=0&id=7d1fbb66&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mt-4\"},[_c('h2',{staticClass:\"mb-4\"},[_vm._v(\"Daftar Transaksi Keuangan Masjid\")]),(_vm.loading)?_c('div',{staticClass:\"alert alert-info\"},[_vm._v(\"Memuat data transaksi...\")]):_vm._e(),(_vm.error)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(!_vm.loading && _vm.dataTransaksi.length > 0)?_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered table-hover table-sm\"},[_vm._m(0),_c('tbody',_vm._l((_vm.dataTransaksi),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.jenis_transaksi))]),_c('td',[_vm._v(_vm._s(_vm.formatTanggal(item.tanggal_transaksi)))]),_c('td',[_vm._v(\"Rp \"+_vm._s(_vm.formatNominal(item.nominal)))]),_c('td',[_vm._v(_vm._s(item.keterangan))]),_c('td',[(item.bukti)?_c('img',{staticStyle:{\"max-width\":\"100px\",\"max-height\":\"70px\",\"object-fit\":\"cover\"},attrs:{\"src\":_vm.getImageUrl(item.bukti),\"alt\":\"Bukti Transaksi\"}}):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Tidak ada\")])]),_c('td',[_c('button',{staticClass:\"btn btn-sm btn-warning me-2\",on:{\"click\":function($event){return _vm.editData(item)}}},[_vm._v(\"\\n              Edit\\n            \")]),_c('button',{staticClass:\"btn btn-sm btn-danger\",on:{\"click\":function($event){return _vm.hapusData(item)}}},[_vm._v(\"\\n              Hapus\\n            \")])])])}),0)])]):(!_vm.loading && _vm.dataTransaksi.length === 0)?_c('div',[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Tidak ada data transaksi.\")])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',[_vm._v(\"Jenis Transaksi\")]),_c('th',[_vm._v(\"Tanggal\")]),_c('th',[_vm._v(\"Nominal\")]),_c('th',[_vm._v(\"Keterangan\")]),_c('th',[_vm._v(\"Bukti\")]),_c('th',[_vm._v(\"Aksi\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container mt-4\">\r\n    <h2 class=\"mb-4\">Daftar Transaksi Keuangan Masjid</h2>\r\n\r\n    <!-- Notifikasi loading dan error -->\r\n    <div v-if=\"loading\" class=\"alert alert-info\">Memuat data transaksi...</div>\r\n    <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\r\n\r\n    <!-- Tabel data -->\r\n    <div v-if=\"!loading && dataTransaksi.length > 0\" class=\"table-responsive\">\r\n      <table class=\"table table-bordered table-hover table-sm\">\r\n        <thead class=\"thead-light\">\r\n          <tr>\r\n            <th>Jenis Transaksi</th>\r\n            <th>Tanggal</th>\r\n            <th>Nominal</th>\r\n            <th>Keterangan</th>\r\n            <th>Bukti</th>\r\n            <th>Aksi</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, index) in dataTransaksi\" :key=\"index\">\r\n            <td>{{ item.jenis_transaksi }}</td>\r\n            <td>{{ formatTanggal(item.tanggal_transaksi) }}</td>\r\n            <td>Rp {{ formatNominal(item.nominal) }}</td>\r\n            <td>{{ item.keterangan }}</td>\r\n            <td>\r\n              <img\r\n                v-if=\"item.bukti\"\r\n                :src=\"getImageUrl(item.bukti)\"\r\n                alt=\"Bukti Transaksi\"\r\n                style=\"max-width: 100px; max-height: 70px; object-fit: cover;\"\r\n              />\r\n              <span v-else class=\"text-muted\">Tidak ada</span>\r\n            </td>\r\n            <td>\r\n              <button\r\n                class=\"btn btn-sm btn-warning me-2\"\r\n                @click=\"editData(item)\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button class=\"btn btn-sm btn-danger\" @click=\"hapusData(item)\">\r\n                Hapus\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- Jika tidak ada data -->\r\n    <div v-else-if=\"!loading && dataTransaksi.length === 0\">\r\n      <p class=\"text-muted\">Tidak ada data transaksi.</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataTransaksi: [],\r\n      loading: false,\r\n      error: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      this.loading = true\r\n      this.error = ''\r\n      try {\r\n        const res = await axios.get('http://localhost:3000/data_keuangan/get-data')\r\n        if (res.data.status) {\r\n          this.dataTransaksi = res.data.data\r\n        } else {\r\n          this.error = 'Gagal mengambil data transaksi dari server.'\r\n        }\r\n      } catch (err) {\r\n        this.error = 'Terjadi kesalahan saat mengambil data.'\r\n        console.error(err)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    formatTanggal(tgl) {\r\n      const date = new Date(tgl)\r\n      return date.toLocaleDateString('id-ID', {\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric'\r\n      })\r\n    },\r\n    formatNominal(nominal) {\r\n      const value = Number(nominal)\r\n      return value.toLocaleString('id-ID')\r\n    },\r\n    getImageUrl(filename) {\r\n      return `http://localhost:3000/img/${filename}`\r\n    },\r\n    editData(item) {\r\n      // Pindah ke halaman edittransaksi dengan id\r\n  this.$router.push({ name: 'edittransaksi', params: { id_transaksi: item.id_transaksi } })\r\n    },\r\n    async hapusData(item) {\r\n      const konfirmasi = confirm(`Yakin ingin menghapus transaksi: ${item.keterangan}?`)\r\n      if (konfirmasi) {\r\n        try {\r\nconst res = await axios.delete(`https://apikeuanganmasjid-production.up.railway.app/data_keuangan/delete-transaksi/${item.id_transaksi}`)\r\n          if (res.data.status) {\r\n            alert('Data berhasil dihapus')\r\n            this.fetchData()\r\n          } else {\r\n            console.log(item)\r\n            alert('Gagal menghapus data')\r\n          }\r\n        } catch (error) {\r\n          console.error(error)\r\n          alert('Terjadi kesalahan saat menghapus data')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.table td,\r\n.table th {\r\n  vertical-align: middle;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTransaksi.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTransaksi.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataTransaksi.vue?vue&type=template&id=7d1fbb66&scoped=true\"\nimport script from \"./DataTransaksi.vue?vue&type=script&lang=js\"\nexport * from \"./DataTransaksi.vue?vue&type=script&lang=js\"\nimport style0 from \"./DataTransaksi.vue?vue&type=style&index=0&id=7d1fbb66&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d1fbb66\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}